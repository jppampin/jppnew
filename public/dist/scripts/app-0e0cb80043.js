!function(){"use strict";angular.module("cancha2",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ngMaterial","ngMessages"])}(),function(){"use strict";function e(){function e(){return t}var t=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Angular Material Design",url:"https://material.angularjs.org/#/",description:"The Angular reference implementation of the Google's Material Design specification.",logo:"angular-material.png"}];this.getTec=e}angular.module("cancha2").service("webDevTec",e)}(),function(){"use strict";function e(e,t,r,a){function n(e,a){var n={email:e,password:a};return t({method:"POST",url:"/api/login",data:r.serialize(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;m.currentUser.username=t.local.email,m.currentUser.name=t.local.name,m.currentUser.email=t.local.email,m.currentUser.isLogged=!0,m.currentUser.isAdmin=t.isAdmin})}function o(){m.currentUser.username=s.username,m.currentUser.name=s.name,m.currentUser.email=s.email,m.currentUser.isLogged=s.isLogged,m.currentUser.isAdmin=!1}function i(){return t({method:"POST",url:"/api/logout"}).then(function(e){o()})}function l(e){var e={name:e.name,email:e.email,password:e.password,confirmPassword:e.confirmPassword};return t({method:"POST",url:"/api/signup",data:r.serialize(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}var s={username:"anonymous",name:"Anonymous",email:"",isAdmin:!1,isLogged:!1},c={username:"",name:"",email:"",isAdmin:!1,isLogged:!1},m={currentUser:c,login:n,logout:i,signup:l};return o(),m}angular.module("cancha2").factory("userService",e),e.$inject=["$log","$http","paramUtils","toastr"]}(),function(){"use strict";function e(){function e(e){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}var t={serialize:e};return t}angular.module("cancha2").factory("paramUtils",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.logout=e.logout,t.user=e.currentUser}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["userService"],t}angular.module("cancha2").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function t(t,r,a,n){var o,i=e(r[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});r.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){i.type(e).pause()["delete"]()}),o=t.$watch("vm.contributors",function(){angular.forEach(n.contributors,function(e){i.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){o()})}function r(e,t){function r(){return a().then(function(){e.info("Activated Contributors View")})}function a(){return t.getContributors(10).then(function(e){return n.contributors=e,n.contributors})}var n=this;n.contributors=[],r()}var a={restrict:"E",scope:{extraValues:"="},template:"HOLA MUNDO!&nbsp;",link:t,controller:r,controllerAs:"vm"};return r.$inject=["$log","githubContributor"],a}angular.module("cancha2").directive("acmeMalarkey",e),e.$inject=["malarkey"]}(),function(){"use strict";function e(e,t,r){function a(){return r({method:"GET",url:"/api/match/getLast",headers:{"Content-Type":"application/json"}}).then(function(e){var t=e.data;l.title=t.title,l.matchId=t._id,t.players.forEach(function(e){l.players.push(e)})})}function n(e){var t=_.find(i,function(t){return e.user.local.email===t.user.local.email});if(!t)return r({method:"POST",url:"/api/match/"+l.matchId+"/addPlayer",data:e,headers:{"Content-Type":"application/json"}}).then(function(){return i.push(e)})}function o(e){return r({method:"POST",url:"/api/match/"+l.matchId+"/confirmPlayer",data:e,headers:{"Content-Type":"application/json"}})}var i=[],l=(t("/api/match"),{title:"",matchId:null,players:i,addPlayer:n,confirmPlayer:o,init:a});return l}angular.module("cancha2").factory("listService",e),e.$inject=["$log","$resource","$http"]}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/components/list/list.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e,t,r){function a(r){t.confirmPlayer(r).then(function(){e.info("Player "+r.user.local.name+" Actualizado!")},function(t){e.info("Error al actualizar!"+t)})}function n(e){return o.user.isAdmin||e.user.local.email==o.user.username}var o=this;o.update=a,o.user=r.currentUser,o.canConfirm=n,t.init().then(function(){o.title=t.title,o.players=t.players})}angular.module("cancha2").controller("CanchaListController",t).directive("canchaList",e),t.$inject=["toastr","listService","userService"]}(),function(){"use strict";function e(e,t){function r(r){function n(e){return e.data}function o(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return r||(r=30),t.get(a+"/contributors?per_page="+r).then(n)["catch"](o)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",n={apiHost:a,getContributors:r};return n}angular.module("cancha2").factory("githubContributor",e),e.$inject=["$log","$http"]}(),function(){"use strict";function e(){function e(){}var t={restrict:"E",templateUrl:"app/components/disqus/disqus.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("cancha2").directive("disqus",e)}(),function(){"use strict";function e(e,t,r){var a=this;a.user={name:"",email:"",password:"",confirmPassword:""},a.register=function(a){r.signup(a).then(function(r){e.info("Registered!"),t.go("main.login")})["catch"](function(t){e.error("No se pudo registrar el usuario!")})}}angular.module("cancha2").controller("RegisterController",e),e.$inject=["toastr","$state","userService"]}(),function(){"use strict";function e(e,t,r){function a(){var e=r.currentUser.name,a=r.currentUser.email,n={user:{local:{name:e,email:a}},confirmed:!1};t.addPlayer(n)}var n=this;n.addPlayer=a,n.user=r.currentUser}angular.module("cancha2").controller("MainController",e),e.$inject=["toastr","listService","userService"]}(),function(){"use strict";function e(e,t,r,a){var n=this;n.user={username:"",password:""},n.login=function(){t.login(n.user.username,n.user.password).then(function(){r.go("main")})["catch"](function(){e.error("No se pudo loguear user / password incorrectos!")})}}angular.module("cancha2").controller("LoginController",e),e.$inject=["toastr","userService","$state","$rootScope"]}(),function(){"use strict";function e(e,t){var r=this;r.request=function(){e.info("Recuperando password de:"+r.email),t.go("main.login")}}angular.module("cancha2").controller("ForgotPasswordController",e),e.$inject=["toastr","$state"]}(),function(){"use strict";function e(e,t,r){function a(){}function n(e){var t=new o;return t.title=e.title,t.$save()}var o=t("/api/match"),i={addMatch:n};return a(),i}angular.module("cancha2").factory("matchService",e),e.$inject=["$log","$resource","$http"]}(),function(){"use strict";function e(e,t,r){function a(){var a=n.match;t.addMatch(a).then(function(){e.info("Partido Creado!"),r.go("main")},function(t){e.error("Error al crear el partido!")})}var n=this;n.match={title:""},n.addMatch=a}angular.module("cancha2").controller("MatchController",e),e.$inject=["toastr","matchService","$state"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("cancha2").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t){e.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("main.login",{url:"login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("main.forgotPassword",{url:"forgotPassword",templateUrl:"app/forgotPassword/forgotPassword.html",controller:"ForgotPasswordController",controllerAs:"vm"}).state("main.admPartido",{url:"admPartido",templateUrl:"app/admPartido/match.html",controller:"MatchController",controllerAs:"vm"}).state("main.register",{url:"register",templateUrl:"app/register/register.html",controller:"RegisterController",controllerAs:"vm"}),t.otherwise("/")}angular.module("cancha2").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("cancha2").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t,r){e.debugEnabled(!0),r.theme("default").primaryPalette("teal"),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}angular.module("cancha2").config(e),e.$inject=["$logProvider","toastr","$mdThemingProvider"]}(),angular.module("cancha2").run(["$templateCache",function(e){e.put("app/admPartido/match.html",'<div layout="row" layout-fill="" layout-align="center"><md-card layout-padding="" flex="30" flex-sm=""><form layout="column" name="partidoForm"><md-input-container><label>Titulo</label><input md-maxlength="30" name="title" required="" ng-model="vm.match.title"><div ng-messages="partidoForm.title.$error"><div ng-message="required">This is required.</div></div></md-input-container><md-button class="md-primary md-raised" ng-click="vm.addMatch();">Crear</md-button></form></md-card></div>'),e.put("app/forgotPassword/forgotPassword.html",'<div layout="row" layout-fill="" layout-align="center"><md-card layout-padding="" flex="30" flex-sm=""><form layout="column" name="forgotPasswordForm"><md-input-container><label>Email</label><input name="email" type="email" ng-model="vm.email" email=""><div ng-messages="forgotPasswordForm.email.$error"><div ng-message="email">Ingrese un email válido.</div></div></md-input-container><md-button class="md-primary md-raised" ng-click="vm.request()">Recuperar Password</md-button></form></md-card></div>'),e.put("app/login/login.html",'<div layout="row" layout-fill="" layout-align="center"><md-card layout-padding="" flex="30" flex-sm=""><form layout="column" name="loginForm"><md-input-container><label>Email</label><input ng-model="vm.user.username" required=""></md-input-container><md-input-container><label>Password</label><input ng-model="vm.user.password" type="password" required=""></md-input-container><div layout="row" layout-align="center center"><div flex=""><a ui-sref="main.register">Inscribirse</a></div><div flex=""><a ui-sref="main.forgotPassword">Olvidaste la password</a></div></div><md-button class="md-primary md-raised" ng-click="vm.login()">Login</md-button>or<md-button class="md-fab md-mini"><md-icon md-svg-src="assets/images/facebook.svg" href="/facebook"></md-icon></md-button></form></md-card></div>'),e.put("app/main/main.html",'<div layout="column" layout-fill=""><md-content layout="column" layout-fill=""><header><acme-navbar></acme-navbar></header><section class="jumbotron"><h1>La cancha de tu hermana</h1><p>Sitio para inscribirse en los partidos de futbol!</p></section><div ui-view=""></div><div layout="row" class="" layout-align="center center"><md-button class="md-raised md-warn md-hue-2" ng-click="main.addPlayer()" ng-if="main.user.isLogged">Agregarme al Partido</md-button></div><cancha-list></cancha-list></md-content></div>'),e.put("app/register/register.html",'<div layout="row" layout-fill="" layout-align="center"><md-card layout-padding="" flex="30" flex-sm=""><form layout="column" name="registerForm"><md-input-container><label>Name:</label><input name="name" ng-model="vm.user.name" required=""><div ng-messages="registerForm.name.$error"><div ng-message="required">Requerido</div></div></md-input-container><md-input-container><label>Email:</label><input type="email" name="email" email="" required="" ng-model="vm.user.email"><div ng-messages="registerForm.email.$error"><div ng-message="required">Requerido</div><div ng-message="email">Ingrese un email válido</div></div></md-input-container><md-input-container><label>Password</label><input type="password" ng-model="vm.user.password" name="password" required=""><div ng-messages="registerForm.password.$error"><div ng-message="required">Requerido</div></div></md-input-container><md-input-container><label>Confirm Password</label><input type="password" ng-model="vm.user.confirmPassword" name="confirmPassword" required=""><div ng-messages="registerForm.confirmPassword.$error"><div ng-message="required">Requerido</div></div></md-input-container><md-button class="md-primary md-raised" ng-click="vm.register(vm.user);">Register</md-button></form></md-card></div>'),e.put("app/components/disqus/disqus.html","<div id=\"disqus_thread\" flex=\"\"></div><script type=\"text/javascript\">\n      /* * * CONFIGURATION VARIABLES * * */\n      var disqus_shortname = 'lacanchadetuhermana';\n      \n      /* * * DON'T EDIT BELOW THIS LINE * * */\n      (function() {\n          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\n          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n      })();\n  </script><noscript>Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\" rel=\"nofollow\">comments powered by Disqus.</a></noscript>"),e.put("app/components/list/list.html",'<md-content layout="column"><md-toolbar flex=""><div class="md-toolbar-tools"><h3>Lista de Inscriptos de {{vm.title}}:</h3></div></md-toolbar><section><md-subheader class="md-primary">Confirmados:</md-subheader><md-list flex="" layout-wrap="" layout-gt-sm="row"><md-list-item flex="33" class="md-3-line unselected" ng-repeat="player in vm.players | filter: {confirmed: true }" ng-class="{ selected : player.confirmed}"><img ng-src="http://www.gravatar.com/avatar/11f1e85cd4b673a843d0365a50645b31" class="md-avatar" alt="jpp"><div class="md-list-item-text"><h3>{{player.user.local.name}}<md-chip>10</md-chip></h3><h4>{{player.user.local.email}}</h4></div><md-switch ng-model="player.confirmed" ng-change="vm.canConfirm(player) && vm.update(player)" ng-show="vm.canConfirm(player)" ng-disabled="!vm.canConfirm(player)"></md-switch><md-icon md-svg-src="assets/images/checkbox-marked-circle.svg" href="/facebook" ng-if="player.confirmed"></md-icon></md-list-item></md-list></section><section><md-subheader class="md-primary">Pendientes:</md-subheader><md-list flex="" layout-wrap="" layout-gt-sm="row"><md-list-item flex="33" class="md-3-line unselected" ng-repeat="player in vm.players | filter: {confirmed: false }" ng-class="{ selected : player.confirmed}"><img ng-src="http://www.gravatar.com/avatar/11f1e85cd4b673a843d0365a50645b31" class="md-avatar" alt="jpp"><div class="md-list-item-text"><h3>{{player.user.local.name}}<md-chip>10</md-chip></h3><h4>{{player.user.local.email}}</h4></div><md-switch ng-model="player.confirmed" ng-change="vm.canConfirm(player) && vm.update(player)" ng-show="vm.canConfirm(player)" ng-disabled="!vm.canConfirm(player)"></md-switch><md-icon md-svg-src="assets/images/checkbox-marked-circle.svg" href="/facebook" ng-if="player.confirmed"></md-icon></md-list-item></md-list></section><md-divider></md-divider><div layout="row" layout-fill="" layout-align="center center"><disqus flex-gt-sm="50"></disqus></div></md-content>'),e.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center"><section flex="" layout="row" layout-align="left center"><md-tabs class="md-primary"><md-tab label="Home" ui-sref="main"></md-tab><md-tab label="Login" ui-sref="main.login"></md-tab><md-tab label="Adm. Partidos" ui-sref="main.admPartido" ng-if="vm.user.isAdmin"></md-tab></md-tabs><div flex=""></div><div layout-padding="">{{vm.user.name}}</div><md-button class="md-icon-button" aria-label="Logout" ng-if="vm.user.isLogged" ng-click="vm.logout()"><md-icon md-svg-icon="assets/images/logout.svg"></md-icon></md-button></section></md-toolbar>')}]);